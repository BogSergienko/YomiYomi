<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Kuroshiro</title>
    <script src="https://unpkg.com/kuroshiro/dist/kuroshiro.min.js"></script>
    <script src="https://unpkg.com/kuroshiro-analyzer-kuromoji/dist/kuroshiro-analyzer-kuromoji.min.js"></script>
</head>
<body>
<div id="output"></div>

<script>
    const kuroshiro = new Kuroshiro();

    async function init() {
      await kuroshiro.init(new KuromojiAnalyzer());
      window.flutter_inappwebview.callHandler('ready');
    }

    async function setText(input) {
      const result = await kuroshiro.convert(input, { mode: "furigana", to: "hiragana" });
      document.getElementById('output').innerHTML = result;
      window.flutter_inappwebview.callHandler('onResult', result);
    }

    init();
</script>
</body>
</html>