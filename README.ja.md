# YomiYomi

日本語テキストをフリガナ、翻訳、トークナイゼーションで読むためのFlutterベースのモバイルアプリケーション。

## 概要

YomiYomiは、日本語学習者がネイティブテキストを簡単に読めるように設計されたモバイルアプリです。FlutterとDartで構築されており、フリガナ表示、辞書検索、高速なSudachiトークナイゼーションをすべてオフラインで提供します。インターフェースの多言語対応もサポートしています。

⚠️ 現時点では**Androidのみ**で動作確認済みです。iOSは今後対応予定ですが、まだ未検証です。

## 機能

- **フリガナ表示**: 漢字に自動でルビ（フリガナ）を追加。WebViewベースの描画エンジン使用。
- **JLPTレベルのフィルタリング**: JLPTレベル（N1–N5または全て）ごとのフリガナ表示切り替え機能（ドロップダウンメニューとリセットサイクル付き）。
- **JLPTレベルに応じた色分け**: [Yomitan JLPT Vocab](https://github.com/stephenmk/yomitan-jlpt-vocab)を使用し、語彙や漢字をJLPTレベルごとに色分け（N1：紫、N2：赤、N3：オレンジ、N4：黄、N5：緑）。
- **辞書統合**: JMdict（英語・ロシア語対応、v3.6.1）を使用したバイリンガル辞書検索。設定で言語選択可能。
- **テキスト解析**: Sudachi（v0.7.5）による正確な日本語形態素解析。3つのトークナイゼーションモード：
  - **Mode A**: 詳細な分析のための細かいトークン（例："食べ物" → "食べ" + "物"）。
  - **Mode B**: バランスの取れた分析のための中程度のトークン（例："食べ物"を1つの単語として）。
  - **Mode C**: 複合語のための大きなトークン（例："食べ物" + "を" + "食べます"）。
- **インターフェースのローカライズ**: 英語、ロシア語、日本語をサポートし、SettingsSheetでリアルタイムに切り替え可能。
- **設定**: トークナイゼーションモードと言語選択用のドロップダウンメニュー。SharedPreferencesで保存。
- **注**: ダークテーマは開発中であり、近日中のアップデートで追加予定。

## パフォーマンスに関する注意

- 初回起動: 辞書のSQLite変換に2～5秒かかる場合があります。その後の起動と操作は即時です。
- トークナイゼーション: 2000文字で1秒未満。
- 初期の白い画面は今後のアップデートでローディングインジケータに置き換えられます。

## 開発中

- **JLPTフィルター（jlpt-classifier）**:
  - 語彙のJLPTレベル分類のためのPythonスクリプト統合。
  - 新しいJLPTレベルでのSQLiteデータベース更新。
  - `toggleFuriganaByJLPT`のフィルタリングロジック更新。
- **ダークテーマ**:
  - 設定メニューでのダークテーマ切り替え。
  - ThemeDataと`index.html`のCSSによる実装。
  - システムテーマに基づく自動モード対応。
  - テーマ変更時の再起動プロンプト。
- **テキストライブラリ**: テキストの保存、タグ付け、再読機能。

## 今後の計画

- コンテキスト翻訳: タップまたは選択による長編語句の翻訳。
- ピッチアクセントの可視化。
- ePub・PDF・カメラスキャン（OCR）によるテキストインポート。
- 音声読み上げとリアルタイム翻訳表示。
- ユーザーライブラリ内の語彙検索機能。
- 音声再生速度や音声タイプの選択。
- フリガナ非表示のための「覚えた単語」タグ機能。
- Markdown/書式サポート。
- オフライン／オンラインOCRのハイブリッド対応。
- 翻訳結果のキャッシュ機能。
- 小学校や中学校の学年レベルに対応し、ネイティブの子供たちの読み学習を支援。

## はじめ方

1. リポジトリをクローン: `git clone https://github.com/BogSergienko/YomiYomi.git`
2. 依存パッケージを取得: `flutter pub get`
3. アプリを起動: `flutter run`

> 注意: 大容量ファイル（`*.jar`, `*.dic`, `*.json`）はGit LFSで管理しています。

## ライセンス

MITライセンスです。詳細は[LICENSE](LICENSE)をご覧ください。

## ダウンロード

最新のAndroid APKは[リリース](https://github.com/BogSergienko/YomiYomi/releases)からダウンロードできます。